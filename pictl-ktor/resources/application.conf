ktor {
    deployment {
        port = 8080
        port = ${?PORT}
        # developing with chrome: chrome://flags/#allow-insecure-localhost
        sslPort = 8443
        sslPort = ${?SSL_PORT}

        shutdown.url = "/ktor/application/shutdown"

        environment = dev
        environment = ${?KTOR_ENV}
    }
    application {
        modules = [
            org.unividuell.pictl.server.PictlApplicationKt.piCtl,
            org.unividuell.pictl.server.ModulesKt.audioModule,
            org.unividuell.pictl.server.ModulesKt.metricsModule,
            org.unividuell.pictl.server.ModulesKt.hardwareModule,
            org.unividuell.pictl.server.ModulesKt.osModule,
        ]
        # list is not overridable via environment variables!
        # https://github.com/lightbend/config/issues/320
        # use JVM arguments -Dktor.application.modules.0=...
        # modules = ${?MODULES}
        slimserver.host = "http://white.local:9000"
        slimserver.host = ${?SLIMSERVER_HOST}
    }
    security {
        ssl {
            keyStore = pictl-ktor/keystore.jks
            keyAlias = sampleAlias
            keyStorePassword = foobar
            privateKeyPassword = foobar
        }
    }
}
